# BIT Pentest Labs

Bit Pentest labs is a collection of open source security practice labs that weâ€™ve automated the installation for
ease of deploying and destroying security lab environments. The labs will be deployed to AWS or VirtualBox.

This project is in it's infancy stages. We will continue to enhance documentation and lab modules. Thanks for your patience
and hack all the things!

## AWS LAB Setup

### Requirements

- AWS account (We will use t2.micro instances when deploying instances. You are responsible for all charges in AWS)
- terraform  (terraform.io) Follow Hashicorps instructions on how to install terraform on your OS
- ssh keys - Below is an example on generating ssh keys for labs. The keys will be added to AWS.
- desire, passion, and knack to hack all the things! For learning purposes of course

1. Clone the bit-pentest-labs project

```
git clone project
```

2. Create feature branch.

```
git clone -b <local name>
```

3. Generate ssh keys

```
cd ~/.ssh
ssh-keygen -f bitHackLab -t rsa -b 4096
```

4. Update labs.tfvars

```
cd aws/terraform/deploy/
cp labs.tfvars.example labs.tfvars
vim labs.tvfars

update the following settings:
  - aws_access_key
  - aws_secret_key
  - ssh_public_key (Use public key from step 3)
  - ip_list
  - subnet_id (Get from AWS)
  - vpc_id (Get from AWS)

```

4. Prep deploy. (you will need to be in the aws/terraform/deploy directory)

```
cd aws/terraform/deploy
terraform get  (Pulls modules from the terraform modules folder to deploy/.terraform)
terraform plan -var-file="labs.tfvars" (This will let you see what will be deployed)
terraform apply -var-file="labs.tfvars" (Deploys labs to AWS)
```


## Usage

### Destroy AWS lab

```
cd aws/terraform/deploy
terraform destroy -var-file="labs.tfvars" (type yes when prompted)
```

Please verify that everything was removed from AWS by logging into the console.

### ssh to instances
```
ssh -i ~/.ssh/bitHackLab ec2-user@<x.x.x.x> (Use public ip address from the output of your deployment run>

run "terraform show terraform.tfstate" if you forgot you public ip's
```

### Review AWS lab info

```
terraform show terraform.tfstate (this will give you the details of your aws deployment)
```

## License

TODO: Write license
